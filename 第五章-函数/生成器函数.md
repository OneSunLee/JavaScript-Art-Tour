## 生成器函数

---

请想象一台机器，一台只存在于我们深邃思想之中的机器。你问它一个问题，它就会悄悄运作一番，给我们一个答案，然后就在静默中无声地等待着，直到我们再一次唤醒它，向它提问。和其他机器不同，每次向它提问时，它都留存着上一次思索的记忆。每一个回答都可能独一无二，每一个回答也一定有一个内在的秩序，这秩序以精妙的设计存在于机器的思想中，只有它和创造它的我们知晓。

这台机器已经在 JavaScript 世界中被制造出来了，它的名字叫*生成器函数*（Generator Function），这个名字使人想起工厂里流水化的生产线，批量地制造新产品。而生成器函数的确就像流水线上的机器，每次运作，都生成一个值，然后这个值被送到我们面前，然后经过一些时刻生成下一个值。生成器函数在本质上，是一种调用一次而多次返回一个值的函数，而普通函数调用一次只能返回一次。

因此，生成器函数是一种特殊类型的函数。当我们从头到尾运行标准函数时，我们最多只会得到一次值，这个值保存了函数在这次运行中所留给我们的所有东西。然而生成器函数不同的地方在于，它是可以在运行过程中暂停的，每次暂停都可以返回一个值。生成器函数能生成一组值的序列，当我们“要求”它生成一个值的时候，它就生成一个值，然后在运行过程中暂停在所处的位置。如果它不再打算生成新的值，就会告诉我们它的运行周期已经结束了。



---

Note：

生成器函数是 JavaScript 中一个相对较新的概念和特性，其实它已经在 Python、PHP 和 C# 等编程语言中存在很长时间了，它常常被用来实现一种称为*协程*的语言机制。生成器函数的本质是*状态机*。

---

